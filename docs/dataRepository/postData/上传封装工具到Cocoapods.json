{"title": "\u4e0a\u4f20\u5c01\u88c5\u5de5\u5177\u5230Cocoapods", "date": "2018-11-28 14:58:55", "categories": "iOS", "tags": "Cocoapods", "keywords": "cocoapods,\u4e0a\u4f20\u5230Cocoapods", "description": "", "file_name": "\u4e0a\u4f20\u5c01\u88c5\u5de5\u5177\u5230Cocoapods", "short": " \u51c6\u5907 \n \u5728github\u3001\u7801\u4e91\u4e0a\u521b\u5efa\u9879\u76ee\uff0c\u5e76\u628a\u9879\u76ee\u4ee3\u7801\u4e0a\u4f20\u5230\u9879\u76ee\u4ed3\u5e93\u3002 \n \u6ce8\u518ccocoapods \n      // \u9a8c\u8bc1\u662f\u5426\u6ce8\u518c \n $     pod     trunk     me   \n $     pod     trunk     register     \u90ae\u7bb1\u53f7     \u6635\u79f0   \n // \u7136\u540e\u8be5\u90ae\u7bb1\u4f1a\u6536\u5230\u4e00\u5c01cocoapods\u7684\u90ae\u4ef6\uff0c\u53ea\u9700\u6253\u5f00\u67e5\u770b\u90ae\u4ef6\u5373\u53ef\u9a8c\u8bc1\u3002 \n   \n\n ", "content": "<h5 id=\"_1\">\u51c6\u5907</h5>\n<p>\u5728github\u3001\u7801\u4e91\u4e0a\u521b\u5efa\u9879\u76ee\uff0c\u5e76\u628a\u9879\u76ee\u4ee3\u7801\u4e0a\u4f20\u5230\u9879\u76ee\u4ed3\u5e93\u3002</p>\n<p>\u6ce8\u518ccocoapods</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"c1\">// \u9a8c\u8bc1\u662f\u5426\u6ce8\u518c</span>\n<span class=\"err\">$</span><span class=\"w\"> </span><span class=\"n\">pod</span><span class=\"w\"> </span><span class=\"n\">trunk</span><span class=\"w\"> </span><span class=\"n\">me</span><span class=\"w\"></span>\n<span class=\"err\">$</span><span class=\"w\"> </span><span class=\"n\">pod</span><span class=\"w\"> </span><span class=\"n\">trunk</span><span class=\"w\"> </span><span class=\"n\">register</span><span class=\"w\"> </span><span class=\"err\">\u90ae\u7bb1\u53f7</span><span class=\"w\"> </span><span class=\"err\">\u6635\u79f0</span><span class=\"w\"></span>\n<span class=\"c1\">// \u7136\u540e\u8be5\u90ae\u7bb1\u4f1a\u6536\u5230\u4e00\u5c01cocoapods\u7684\u90ae\u4ef6\uff0c\u53ea\u9700\u6253\u5f00\u67e5\u770b\u90ae\u4ef6\u5373\u53ef\u9a8c\u8bc1\u3002</span>\n</code></pre></div>\n\n<!-- more -->\n<h5 id=\"podpodspec\">\u521b\u5efaPod\u6240\u5bf9\u5e94\u7684podspec\u6587\u4ef6</h5>\n<div class=\"codehilite\"><pre><span></span><code>$ <span class=\"nb\">cd</span> \u9879\u76ee\u4e0b\n$ pod spec create \u9879\u76ee\u540d\n</code></pre></div>\n\n<p>\u914d\u7f6epodspec\u6587\u4ef6</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"nl\">Pod</span><span class=\"p\">:</span><span class=\"err\">:</span><span class=\"n\">Spec</span><span class=\"p\">.</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">do</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">s</span><span class=\"o\">|</span><span class=\"w\"></span>\n\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">name</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;LHCategoryTool&quot;</span><span class=\"w\"></span>\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">version</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;0.0.1&quot;</span><span class=\"w\"></span>\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">summary</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;LHCategoryTool is foundation category methods&quot;</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">description</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">&lt;&lt;-</span><span class=\"k\">DESC</span><span class=\"w\"></span>\n<span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"k\">select</span><span class=\"w\"> </span><span class=\"ow\">some</span><span class=\"w\"> </span><span class=\"n\">category</span><span class=\"w\"> </span><span class=\"n\">methods</span><span class=\"w\"> </span><span class=\"k\">of</span><span class=\"w\"> </span><span class=\"n\">foundation</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">want</span><span class=\"p\">,</span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">methods</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">help</span><span class=\"w\"> </span><span class=\"n\">own</span><span class=\"w\"> </span><span class=\"n\">improve</span><span class=\"w\"> </span><span class=\"n\">develop</span><span class=\"w\"> </span><span class=\"n\">quickly</span><span class=\"w\"></span>\n<span class=\"k\">DESC</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">homepage</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;http://gitee.com/meanmouse/LHCategoryTool&quot;</span><span class=\"w\"></span>\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">license</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;MIT&quot;</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">author</span><span class=\"w\">             </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"err\">{</span><span class=\"w\"> </span><span class=\"ss\">&quot;MeanMouse&quot;</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"ss\">&quot;1871382624@qq.com&quot;</span><span class=\"w\"> </span><span class=\"err\">}</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">platform</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"err\">:</span><span class=\"n\">ios</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">&quot;8.0&quot;</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">source</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"err\">{</span><span class=\"w\"> </span><span class=\"err\">:</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"ss\">&quot;http://gitee.com/meanmouse/LHCategoryTool.git&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">:</span><span class=\"n\">tag</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"ss\">&quot;0.0.1&quot;</span><span class=\"w\"> </span><span class=\"err\">}</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">source_files</span><span class=\"w\">  </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;LHCategoryTool/**/*.{h,m}&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"ss\">&quot;LHCategoryTool/**/*.{h,m}&quot;</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">frameworks</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"ss\">&quot;Foundation&quot;</span><span class=\"w\"></span>\n\n<span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">requires_arc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">true</span><span class=\"w\"></span>\n\n<span class=\"k\">end</span><span class=\"w\"></span>\n</code></pre></div>\n\n<h5 id=\"spec-repo\">\u6dfb\u52a0\u81f3\u79c1\u6709\u7684Spec Repo</h5>\n<div class=\"codehilite\"><pre><span></span><code>$ pod repo add \u9879\u76ee\u540d \u9879\u76ee\u4ed3\u5e93\u5730\u5740\n$ open ~/.cocoapods/repos/  // \u6267\u884c\u53ef\u770b\u89c1repos\u6587\u4ef6\u4e0b\u6709\u9879\u76ee\u6587\u4ef6\n</code></pre></div>\n\n<h5 id=\"podspec\">\u672c\u5730\u6d4b\u8bd5podspec\u6587\u4ef6\u662f\u5426\u53ef\u7528</h5>\n<div class=\"codehilite\"><pre><span></span><code>// \u5207\u6362\u5230repos\u4e2d\u9879\u76ee\u6587\u4ef6\u8def\u5f84\u4e0b\n$ cd ~/.cocoapods/repos/\u9879\u76ee\u540d\n\n// \u6d4b\u8bd5\u672c\u5730\u5e93\u662f\u5426\u53ef\u7528\n$ pod lib lint\n\n\u5982\u679c\u53ea\u6709warning\u53ef\u6267\u884c\u4e0b\u9762\u8fd9\u6761\u547d\u4ee4\uff1a\n$ pod lib lint --allow-warnings\n// \u4e4b\u540e\u7684push\u64cd\u4f5c\u4e5f\u9700\u52a0 --allow-warnings\n</code></pre></div>\n\n<p>\u521b\u5efa\u65b0\u9879\u76ee\uff0cpod \u672c\u5730podspec\u6587\u4ef6</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">platform</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">ios</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"s1\">&#39;8.0&#39;</span><span class=\"w\"></span>\n\n<span class=\"n\">pod</span><span class=\"w\"> </span><span class=\"err\">\u9879\u76ee\u540d</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">podspec</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"s1\">&#39;~/.cocoapods/repos/\u9879\u76ee\u540d/\u9879\u76ee\u540d.podspec&#39;</span><span class=\"w\">  </span><span class=\"err\">#</span><span class=\"w\"> </span><span class=\"err\">\u6307\u5b9a</span><span class=\"n\">podspec\u6587\u4ef6</span><span class=\"w\"></span>\n</code></pre></div>\n\n<p>\u5982\u679c\u62a5\u9519\uff1aCould not find remote branch 0.1(\u7248\u672c\u53f7) to clone<br />\n\u89e3\u51b3\u65b9\u6848\uff1a<br />\n\u5728github\u3001\u7801\u4e91\u4ed3\u5e93\u6dfb\u52a0\u76f8\u5bf9\u5e94\u7248\u672c\u7684tag</p>\n<h5 id=\"podspecspec-repo\">\u63d0\u4ea4podspec\u5230\u79c1\u6709Spec Repo</h5>\n<div class=\"codehilite\"><pre><span></span><code>$ <span class=\"nb\">cd</span> ~/.cocoapods/repos/\u9879\u76ee\u540d/\n$ pod repo push \u9879\u76ee\u540d \u9879\u76ee\u540d.podspec  <span class=\"c1\">#\u524d\u9762\u662f\u672c\u5730Repo\u540d\u5b57 \u540e\u9762\u662fpodspec\u540d\u5b57</span>\n$ pod search \u9879\u76ee\u540d\n</code></pre></div>\n\n<h5 id=\"spec-repo-podspec\">\u6d4b\u8bd5Spec Repo\u4e2d\u7684\u7684 podspec \u662f\u5426\u53ef\u7528</h5>\n<p>\u65b0\u5efa\u5de5\u7a0bpod \u5bfc\u5165</p>\n<div class=\"codehilite\"><pre><span></span><code>pod &#39;\u9879\u76ee\u540d&#39;\n</code></pre></div>\n\n<h5 id=\"trunk\">\u79c1\u6709\u5e93\u5173\u8054trunk \u8d26\u53f7</h5>\n<p>\u79c1\u6709\u5e93\u5173\u8054trunk \u8d26\u53f7,\u5c06\u5176\u4e0a\u4f20\u81f3cocoapods\u5e93\u4e0a\uff0c\u53ef\u4f9b\u516c\u5171\u641c\u7d22</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"n\">$</span><span class=\"w\"> </span><span class=\"n\">pod</span><span class=\"w\"> </span><span class=\"n\">trunk</span><span class=\"w\"> </span><span class=\"n\">push</span><span class=\"w\"></span>\n\n<span class=\"o\">//</span><span class=\"w\"> </span><span class=\"n\">\u6267\u884c\u4e0b\u9762\u547d\u4ee4\u641c\u7d22\u81ea\u5df1\u4e0a\u4f20\u7684\u5de5\u5177\u5e93</span><span class=\"w\"></span>\n<span class=\"n\">$</span><span class=\"w\"> </span><span class=\"n\">pod</span><span class=\"w\"> </span><span class=\"n\">search</span><span class=\"w\"> </span><span class=\"n\">\u9879\u76ee\u540d</span><span class=\"w\"></span>\n<span class=\"o\">//</span><span class=\"w\"> </span><span class=\"n\">\u5982\u679c\u51fa\u73b0\u5982\u4e0b\u9519\u8bef\uff1a</span><span class=\"w\"></span>\n<span class=\"cm\">/*</span>\n<span class=\"cm\">An unexpected version directory was encountered for the&#39;&lt;xxx&gt;&#39;Pod in the `xxx`</span>\n<span class=\"cm\">\u53ef\u80fd\u662f\u56e0\u4e3a\u548c\u79c1\u6709\u5e93\u4e2d\u7684\u9879\u76ee\u6587\u4ef6\u51b2\u7a81\uff0c</span>\n<span class=\"cm\">\u6267\u884c open ~/.cocoapods/repos/</span>\n<span class=\"cm\">\u5220\u9664\u79c1\u6709\u5e93\u4e2d\u7684\u9879\u76ee\u6587\u4ef6\uff0c\u518d\u6b21\u6267\u884cpod search \u5373\u53ef\u641c\u7d22\u6210\u529f</span>\n<span class=\"cm\">*/</span><span class=\"w\"></span>\n</code></pre></div>"}